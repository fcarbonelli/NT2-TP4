
<section class="src-components-formulario">
  <div class="jumbotron">
    <h2> Formulario tp4</h2>

    <hr>
    <br>

    <vue-form :state="formState" @submit.prevent="enviar()">

      <!--nombre-->
      <validate tag="div"> 
        <label for="nombre">Nombre</label>
          <input 
            type="text"
            id="nombre"
            name="nombre"
            class="form-control"
            autocomplete="off"
            v-model.trim = "formData.nombre"
            required
            minlength="5"  
            :maxlength="nombreLengthMax"
          >    
          <field-messages name="nombre" show="$dirty">
            <div slot="required" class="alert alert-danger mt-1">Campo requerido</div>
            <div slot="minlength" class="alert alert-danger mt-1">Requiere 5 caracteres</div>
            <div v-if="formData.nombre.length == nombreLengthMax" class="alert alert-warning mt-1">Maximo {{nombreLengthMax}} caracteres</div>
          </field-messages>
      </validate>
      <br>

      <!--EDAD-->
      <validate tag="div"> 
        <label for="edad">Edad</label>
          <input 
            type="number"
            id="edad"
            name="edad"
            class="form-control"
            autocomplete="off"
            v-model.number = "formData.edad" 
            required   
            min="18"
            max="120"          
          >        
          <field-messages name="edad" show="$dirty">
            <div slot="required" class="alert alert-danger mt-1">Campo requerido</div>
            <div slot="min" class="alert alert-danger mt-1">Edad minima 18</div>
            <div slot="max" class="alert alert-danger mt-1">Edad maxima 120</div>
          </field-messages>
      </validate>
      <br>

      <!--EMAIL-->
      <validate tag="div"> 
        <label for="email">Email</label>
          <input 
            type="email"
            id="email"
            name="email"
            class="form-control"
            autocomplete="off"
            v-model.trim = "formData.email"
            required  
          >    
          <field-messages name="email" show="$dirty">
            <div slot="required" class="alert alert-danger mt-1">Campo requerido</div>
            <div slot="email" class="alert alert-danger mt-1">Email no valido</div>
          </field-messages>
      </validate>
      <br>

      <button class="btn btn-succeds my-3" :disabled="formState.$invalid" type="submit"> Enviar </button>
    </vue-form>

    <hr>
    <div v-if="listaUsuarios.length <= 0"> No hay usuarios aun </div>

    <table v-if="listaUsuarios.length > 0" class="table container-sm mt-5">
      <thead class="thead-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col">Edad</th>
          <th scope="col">Email</th>         
        </tr>
      </thead>
    
      <tbody>
        
        <tr v-for="(usuario, i) in listaUsuarios">
          <th scope="row">{{i + 1}}</th>
          <td>{{usuario.nombre}}</td>
          <td>{{usuario.edad}}</td>
          <td>{{usuario.email}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

